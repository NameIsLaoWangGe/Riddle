{
  "code": "import { lwg } from \"../Lwg_Template/lwg\";\r\nexport default class UIMain_Room extends Laya.Script {\r\n    constructor() {\r\n        super();\r\n        this.upAisleP = new Laya.Point();\r\n        this.downAisleP = new Laya.Point();\r\n        this.leftAisleP = new Laya.Point();\r\n        this.rightAisleP = new Laya.Point();\r\n        this.rightWallP = new Laya.Point();\r\n        this.leftWallP = new Laya.Point();\r\n        this._roomMove = false;\r\n        this.diffX = null;\r\n        this.diffY = null;\r\n    }\r\n    onEnable() {\r\n        this.self = this.owner;\r\n        this.self['UIMain_Room'] = this;\r\n        this.rig = this.self.getComponent(Laya.RigidBody);\r\n        this.rig.setVelocity({ x: 0, y: 0 });\r\n        this.aisleInit();\r\n        this.btnOnClick();\r\n    }\r\n    aisleInit() {\r\n        for (let index = 0; index < this.self.numChildren; index++) {\r\n            const child = this.self.getChildAt(index);\r\n            switch (child.name) {\r\n                case lwg.Enum.AisleType.up:\r\n                    this.upAisle = child;\r\n                    this.upAisleP.x = child.x;\r\n                    this.upAisleP.y = child.y;\r\n                    break;\r\n                case lwg.Enum.AisleType.down:\r\n                    this.downAisle = child;\r\n                    this.downAisleP.x = child.x;\r\n                    this.downAisleP.y = child.y;\r\n                    break;\r\n                case lwg.Enum.AisleType.left:\r\n                    this.leftAisle = child;\r\n                    this.leftAisleP.x = child.x;\r\n                    this.leftAisleP.y = child.y;\r\n                    break;\r\n                case lwg.Enum.AisleType.right:\r\n                    this.rightAisle = child;\r\n                    this.rightAisleP.x = child.x;\r\n                    this.rightAisleP.y = child.y;\r\n                    break;\r\n                case lwg.Enum.WallType.right:\r\n                    this.rightWall = child;\r\n                    this.rightWallP.x = child.x;\r\n                    this.rightWallP.y = child.y;\r\n                    break;\r\n                case lwg.Enum.WallType.left:\r\n                    this.leftWall = child;\r\n                    this.leftWallP.x = child.x;\r\n                    this.leftWallP.y = child.y;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    onTriggerEnter(other, self) {\r\n    }\r\n    onTriggerStay() {\r\n    }\r\n    btnOnClick() {\r\n        lwg.Click.on('noEffect', null, this.self, this, this.houseDwon, null, null, null);\r\n    }\r\n    houseDwon() {\r\n        this._roomX = this.self.x;\r\n        this._roomY = this.self.y;\r\n        this._roomMove = true;\r\n        lwg.Global._UIMain['UIMain'].currentRoom = this.self;\r\n    }\r\n    onStageMouseDown(e) {\r\n        if (!this._stageX && !this._stageY) {\r\n            this._stageX = e.stageX;\r\n            this._stageY = e.stageY;\r\n        }\r\n    }\r\n    onStageMouseMove(e) {\r\n        if (this._roomMove) {\r\n            this.diffX = e.stageX - this._stageX;\r\n            this.diffY = e.stageY - this._stageY;\r\n            this.self.x = this._roomX + this.diffX;\r\n            this.self.y = this._roomY + this.diffY;\r\n        }\r\n    }\r\n    onStageMouseUp() {\r\n        lwg.Global._UIMain['UIMain'].currentRoom = null;\r\n        this._roomMove = false;\r\n        this._roomX = null;\r\n        this._roomY = null;\r\n        this._stageX = null;\r\n        this._stageY = null;\r\n        this.diffX = null;\r\n        this.diffY = null;\r\n    }\r\n    onUpdate() {\r\n        this.self.rotation = 0;\r\n        if (this.upAisle) {\r\n            this.upAisle.x = this.upAisleP.x;\r\n            this.upAisle.y = this.upAisleP.y;\r\n        }\r\n        if (this.downAisle) {\r\n            this.downAisle.x = this.downAisleP.x;\r\n            this.downAisle.y = this.downAisleP.y;\r\n        }\r\n        if (this.leftAisle) {\r\n            this.leftAisle.x = this.leftAisleP.x;\r\n            this.leftAisle.y = this.leftAisleP.y;\r\n        }\r\n        if (this.rightAisle) {\r\n            this.rightAisle.x = this.rightAisleP.x;\r\n            this.rightAisle.y = this.rightAisleP.y;\r\n        }\r\n        if (this.leftWall) {\r\n            this.leftWall.x = this.leftWallP.x;\r\n            this.leftWall.y = this.leftWallP.y;\r\n            this.leftWall.rotation = 0;\r\n        }\r\n        if (this.rightWall) {\r\n            this.rightWall.x = this.rightWallP.x;\r\n            this.rightWall.y = this.rightWallP.y;\r\n            this.rightWall.rotation = 0;\r\n        }\r\n    }\r\n    onDisable() {\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/Riddle/Riddle/src/script/Lwg_Template/lwg.ts"
  ]
}
