{
  "code": "import { lwg } from \"../Lwg_Template/lwg\";\r\nimport ADManager, { TaT } from \"../../TJ/Admanager\";\r\nexport default class UIPifuTry extends lwg.Admin.Scene {\r\n    constructor() { super(); }\r\n    lwgInit() {\r\n        this.self = this.owner;\r\n        this.BtnAdv = this.self['BtnAdv'];\r\n        ADManager.TAPoint(TaT.BtnShow, 'ADrewardbt_skintry');\r\n        ADManager.TAPoint(TaT.BtnShow, 'close_skintry');\r\n        if (!lwg.Global._elect) {\r\n            this.self['P201'].visible = false;\r\n        }\r\n        lwg.Global.notHavePifuSubXD();\r\n        this.randomNoHave();\r\n    }\r\n    adaptive() {\r\n        this.self['SceneContent'].y = Laya.stage.height / 2;\r\n        this.self['P201'].y = Laya.stage.height * 0.237;\r\n        this.self['background_01'].height = Laya.stage.height;\r\n    }\r\n    openAni() {\r\n        this.self['BtnNo'].visible = false;\r\n        setTimeout(() => {\r\n            this.self['BtnNo'].visible = true;\r\n        }, lwg.Global._btnDelayed);\r\n    }\r\n    randomNoHave() {\r\n        let len = lwg.Global._notHavePifuSubXD.length;\r\n        if (len === 0) {\r\n            this.self.close();\r\n            lwg.Global._gameStart = true;\r\n            return;\r\n        }\r\n        let random = Math.floor(Math.random() * len);\r\n        let pifuName = lwg.Global._notHavePifu[random];\r\n        let oder1 = lwg.Enum.PifuAllName[pifuName];\r\n        this.pifuNum = oder1;\r\n        let pifuImg = this.self['Pifu'].getChildByName('img');\r\n        let oder2 = lwg.Enum.PifuAllName[pifuName];\r\n        pifuImg.skin = lwg.Enum.PifuSkin[oder2];\r\n    }\r\n    btnOnClick() {\r\n        lwg.Click.on('largen', null, this.BtnAdv, this, null, null, this.btnAdvUp, null);\r\n        lwg.Click.on('largen', null, this.self['BtnNo'], this, null, null, this.btnNoUp, null);\r\n    }\r\n    btnAdvUp(event) {\r\n        ADManager.TAPoint(TaT.BtnClick, 'ADrewardbt_skintry');\r\n        event.currentTarget.scale(1, 1);\r\n        ADManager.ShowReward(() => {\r\n            this.btnAdvFunc();\r\n        });\r\n    }\r\n    btnBackUp() {\r\n        ADManager.TAPoint(TaT.BtnClick, 'close_skintry');\r\n        this.self.close();\r\n    }\r\n    btnNoUp() {\r\n        this.self.close();\r\n        lwg.Admin._sceneControl[lwg.Admin.SceneName.UIStart]['UIStart'].openPlayScene();\r\n    }\r\n    btnAdvFunc() {\r\n        this.self.close();\r\n        lwg.Global._yuanpifu = lwg.Global._currentPifu;\r\n        lwg.Global._currentPifu = lwg.Enum.PifuAllName[this.pifuNum];\r\n        lwg.Admin._sceneControl[lwg.Admin.SceneName.UIStart]['UIStart'].openPlayScene();\r\n        this.self.close();\r\n        lwg.LocalStorage.addData();\r\n    }\r\n    onDisable() {\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/Riddle/Riddle1/TJ3Demo_Promo/src/script/Lwg_Template/lwg.ts",
    "D:/Game/project/Riddle/Riddle1/TJ3Demo_Promo/src/TJ/Admanager.ts"
  ]
}
