{
  "code": "import { lwg } from \"../Lwg_Template/lwg\";\r\nimport ADManager, { TaT } from \"../../TJ/Admanager\";\r\nimport RecordManager from \"../../TJ/RecordManager\";\r\nexport default class UIShare extends lwg.Admin.Scene {\r\n    adaptive() {\r\n        this.self['SceneContent'].y = Laya.stage.height / 2;\r\n    }\r\n    btnOnClick() {\r\n        ADManager.TAPoint(TaT.BtnShow, 'home_pause');\r\n        ADManager.TAPoint(TaT.BtnShow, 'continue_pause');\r\n        lwg.Click.on(lwg.Click.ClickType.noEffect, null, this.self['background'], this, null, null, this.backgroundUp, null);\r\n        lwg.Click.on(lwg.Click.ClickType.largen, null, this.self['BtnNoShare'], this, null, null, this.btnNoShareUp, null);\r\n        lwg.Click.on(lwg.Click.ClickType.largen, null, this.self['BtnShare'], this, null, null, this.btnShareUp, null);\r\n    }\r\n    backgroundUp(event) {\r\n        console.log('点击背景也是分享！');\r\n        RecordManager._share('award', () => {\r\n            this.btnShareUpFunc();\r\n        });\r\n    }\r\n    btnNoShareUp(event) {\r\n        this.self.close();\r\n        event.currentTarget.scale(1, 1);\r\n    }\r\n    btnShareUp(event) {\r\n        console.log('点击按钮的分享！');\r\n        event.currentTarget.scale(1, 1);\r\n        RecordManager._share('award', () => {\r\n            this.btnShareUpFunc();\r\n        });\r\n    }\r\n    btnShareUpFunc() {\r\n        console.log('分享成功了！');\r\n        lwg.Global._createHint_01(lwg.Enum.HintType.shareyes);\r\n        lwg.Global._goldNum += 125;\r\n        let Num = lwg.Global.GoldNumNode.getChildByName('Num');\r\n        Num.value = (Number(Num.value) + 125).toString();\r\n        this.self.close();\r\n        let d = new Date();\r\n        lwg.Global._hotShare = false;\r\n        lwg.Global._hotShareTime = d.getDate();\r\n    }\r\n    getGoldAni(number, thisFunc) {\r\n        let x = this.self['GetGold'].x + this.self['sceneContent'].x - this.self['sceneContent'].width / 2;\r\n        let y = this.self['GetGold'].y + this.self['sceneContent'].y - this.self['sceneContent'].height / 2;\r\n        for (let index = 0; index < number; index++) {\r\n            lwg.Effects.createAddGold(Laya.stage, index, x, y, lwg.Global.GoldNumNode.x, lwg.Global.GoldNumNode.y, f => {\r\n                let Num = lwg.Global.GoldNumNode.getChildByName('Num');\r\n                Num.value = (Number(Num.value) + 1).toString();\r\n                let goldNum = this.self['GoldNum'];\r\n                goldNum.value = 'x' + (number - index - 2);\r\n                if (index === number - 1) {\r\n                    if (thisFunc !== null) {\r\n                        thisFunc();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/Riddle/Riddle1/TJ3Demo_Promo/src/script/Lwg_Template/lwg.ts",
    "D:/Game/project/Riddle/Riddle1/TJ3Demo_Promo/src/TJ/Admanager.ts",
    "D:/Game/project/Riddle/Riddle1/TJ3Demo_Promo/src/TJ/RecordManager.ts"
  ]
}
