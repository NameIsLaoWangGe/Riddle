{
  "code": "import CaiDanQiang from \"./CaiDanQiang\";\r\nexport default class SkinItem extends Laya.Script {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.ID = 0;\r\n        this.IsDown = false;\r\n    }\r\n    onAwake() {\r\n        this.Skin = this.owner;\r\n        this.Icon = this.Skin.getChildByName(\"Icon\");\r\n        this.Lock = this.Skin.getChildByName(\"Lock\");\r\n        this.light = this.Skin.getChildByName(\"light\");\r\n        console.log(this.Icon, this.Lock, this.light);\r\n        this.Skin.on(Laya.Event.MOUSE_DOWN, this, this.Down);\r\n        this.Skin.on(Laya.Event.MOUSE_UP, this, this.Up);\r\n        this.Skin.on(Laya.Event.MOUSE_OUT, this, this.Up);\r\n    }\r\n    Fell(_data, _caidanqiang) {\r\n        this.data = _data;\r\n        console.log(\"this.data ===>\", this.data);\r\n        this.caidanqiang = _caidanqiang.getComponent(CaiDanQiang);\r\n        this.Refresh();\r\n    }\r\n    Refresh() {\r\n        this.ID = this.data.ID;\r\n        this.Icon.skin = this.data.GetIconPath();\r\n        this.Lock.skin = this.data.GetIconPath_h();\r\n        this.storage = Laya.LocalStorage.getItem(\"Caidanskin\" + this.ID);\r\n        this.storages = this.storage.split(\"_\");\r\n        this.light.visible = this.storages[0] == \"1\";\r\n        this.Lock.visible = this.storages[0] == \"0\";\r\n    }\r\n    Down() {\r\n        console.log(\"按下后3S 不移开或是不抬起 并且皮肤未解锁 如果该皮肤为彩蛋 弹出框\");\r\n        if (this.ID == 4 && this.storages[0] == \"0\") {\r\n            Laya.timer.once(3000, this, this.ShowReward);\r\n        }\r\n        this.IsDown = true;\r\n    }\r\n    Up() {\r\n        if (this.IsDown) {\r\n            this.caidanqiang.RefreshView(this.data);\r\n            Laya.timer.clearAll(this);\r\n            this.IsDown = false;\r\n        }\r\n    }\r\n    ShowReward() {\r\n        console.log(\"展示奖励\");\r\n        this.caidanqiang.CaidanJiemianShow1();\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/Riddle/Riddle1/TJ3Demo_Promo/src/ZhuanPan/CaidanData.ts",
    "D:/Game/project/Riddle/Riddle1/TJ3Demo_Promo/src/ZhuanPan/CaiDanQiang.ts"
  ]
}
