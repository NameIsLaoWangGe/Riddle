{
  "code": "import { lwg } from \"../Lwg_Template/lwg\";\r\nimport ADManager, { TaT } from \"../../TJ/Admanager\";\r\nexport default class UIPassHint extends lwg.Admin.Scene {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.advAfter = false;\r\n    }\r\n    lwgInit() {\r\n        console.log('出现提示界面');\r\n        ADManager.ShowBanner();\r\n        lwg.Global._stageClick = false;\r\n    }\r\n    adaptive() {\r\n        this.self['sceneContent'].y = Laya.stage.height * 0.481;\r\n    }\r\n    openAni() {\r\n        this.self['BtnNo'].visible = false;\r\n        setTimeout(() => {\r\n            if (this.intoScene === 'UIMain') {\r\n            }\r\n            else if (lwg.Admin._gameState === lwg.Admin.GameState.Play) {\r\n                if (this.advAfter) {\r\n                    this.self['BtnNo'].visible = false;\r\n                }\r\n                else {\r\n                    this.self['BtnNo'].visible = true;\r\n                }\r\n            }\r\n            else {\r\n                this.self['BtnNo'].visible = true;\r\n            }\r\n        }, lwg.Global._btnDelayed);\r\n    }\r\n    setStyle() {\r\n        this.self['Pic'].skin = 'UI_new/PassHint/word_yes.png';\r\n        this.self['BtnNo'].visible = false;\r\n        this.self['iconAdv'].visible = false;\r\n        let num = lwg.Admin.openCustomName.substring(lwg.Admin.openCustomName.length - 3, lwg.Admin.openCustomName.length);\r\n        this.self['Dec'].text = '  ' + lwg.Global._hintDec[Number(num) - 1]['dec'];\r\n        this.self['Pic'].x = this.self['BtnYse'].width / 2 + 10;\r\n        this.self['Pic'].y -= 3;\r\n        this.intoScene = 'UIMain';\r\n    }\r\n    btnOnClick() {\r\n        ADManager.TAPoint(TaT.BtnShow, 'ADrewordbt_freegift');\r\n        ADManager.TAPoint(TaT.BtnShow, 'closeword_freegift');\r\n        lwg.Click.on(lwg.Click.ClickType.largen, null, this.self['BtnYse'], this, null, null, this.btnYseUp, null);\r\n        lwg.Click.on(lwg.Click.ClickType.largen, null, this.self['BtnNo'], this, null, null, this.btnNoUp, null);\r\n    }\r\n    btnYseUp(event) {\r\n        ADManager.TAPoint(TaT.BtnClick, 'ADrewordbt_freegift');\r\n        event.currentTarget.scale(1, 1);\r\n        if (this.self['Pic'].skin === 'UI_new/PassHint/word_yes.png') {\r\n            this.closeScene();\r\n        }\r\n        else if (this.self['Pic'].skin === 'UI_new/Defeated/word_freereplay.png') {\r\n            lwg.Admin._refreshScene();\r\n            this.self.close();\r\n        }\r\n        else {\r\n            ADManager.ShowReward(() => {\r\n                this.btnYseUpFunc();\r\n            });\r\n        }\r\n    }\r\n    btnYseUpFunc() {\r\n        this.advAfter = true;\r\n        if (this.intoScene === lwg.Admin.SceneName.UIDefeated) {\r\n            this.self['Pic'].skin = 'UI_new/Defeated/word_freereplay.png';\r\n            this.self['Pic'].x -= 30;\r\n        }\r\n        else {\r\n            this.self['Pic'].skin = 'UI_new/PassHint/word_yes.png';\r\n            this.self['Pic'].x = this.self['BtnYse'].width / 2 + 10;\r\n            this.self['Pic'].y -= 3;\r\n        }\r\n        this.self['BtnNo'].visible = false;\r\n        this.self['iconAdv'].visible = false;\r\n        let num = lwg.Admin.openCustomName.substring(lwg.Admin.openCustomName.length - 3, lwg.Admin.openCustomName.length);\r\n        this.self['Dec'].text = '  ' + lwg.Global._hintDec[Number(num) - 1]['dec'];\r\n    }\r\n    btnNoUp(event) {\r\n        ADManager.TAPoint(TaT.BtnClick, 'closeword_freegift');\r\n        event.currentTarget.scale(1, 1);\r\n        this.closeScene();\r\n    }\r\n    closeScene() {\r\n        if (lwg.Admin._gameState === lwg.Admin.GameState.GameStart) {\r\n            lwg.Admin._sceneControl[lwg.Admin.SceneName.UIStart]['UIStart'].openPlayScene();\r\n        }\r\n        else if (lwg.Admin._gameState === lwg.Admin.GameState.Victory) {\r\n            lwg.Admin._nextCustomScene(2);\r\n            lwg.Global._goldNum += 25;\r\n            lwg.LocalStorage.addData();\r\n        }\r\n        else if (lwg.Admin._gameState === lwg.Admin.GameState.Defeated) {\r\n            if (this.afterDefeated) {\r\n                lwg.Admin._nextCustomScene(2);\r\n            }\r\n            else {\r\n                lwg.Admin._openScene(lwg.Admin.SceneName.UIDefeated, null, null, null);\r\n            }\r\n        }\r\n        else if (lwg.Admin._gameState === lwg.Admin.GameState.Play) {\r\n            if (this.intoScene === 'UIMain') {\r\n                this.self.close();\r\n            }\r\n            else {\r\n                lwg.Admin._openScene(lwg.Admin.SceneName.UIDefeated, null, null, null);\r\n            }\r\n        }\r\n        this.self.close();\r\n    }\r\n    lwgDisable() {\r\n        ADManager.CloseBanner();\r\n        lwg.Global._stageClick = true;\r\n        console.log('关闭提示界面');\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/Riddle/Riddle1/TJ3Demo_Promo/src/script/Lwg_Template/lwg.ts",
    "D:/Game/project/Riddle/Riddle1/TJ3Demo_Promo/src/TJ/Admanager.ts"
  ]
}
