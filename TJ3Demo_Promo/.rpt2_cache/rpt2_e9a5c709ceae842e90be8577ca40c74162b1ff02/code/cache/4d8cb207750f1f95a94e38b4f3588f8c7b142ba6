{
  "code": "import { lwg } from \"../Lwg_Template/lwg\";\r\nimport ADManager, { TaT } from \"../../TJ/Admanager\";\r\nimport RecordManager from \"../../TJ/RecordManager\";\r\nexport default class UIDefeated extends lwg.Admin.Scene {\r\n    constructor() { super(); }\r\n    lwgInit() {\r\n        this.self = this.owner;\r\n        this.BtnAgain = this.self['BtnAgain'];\r\n        this.BtnLast = this.self['BtnLast'];\r\n        this.BtnShare = this.self['BtnShare'];\r\n        this.LvNum = this.self['LvNum'];\r\n        this.LvNumDisplay();\r\n    }\r\n    adaptive() {\r\n        this.self['sceneContent'].y = Laya.stage.height / 2;\r\n    }\r\n    LvNumDisplay() {\r\n        if (lwg.Admin.openLevelNum >= lwg.Global._gameLevel) {\r\n            this.LvNum.value = lwg.Global._gameLevel.toString();\r\n        }\r\n        else {\r\n            this.LvNum.value = lwg.Admin.openLevelNum.toString();\r\n        }\r\n    }\r\n    btnOnClick() {\r\n        ADManager.TAPoint(TaT.BtnShow, 'Share_success');\r\n        ADManager.TAPoint(TaT.BtnShow, 'returnword_fail');\r\n        ADManager.TAPoint(TaT.BtnShow, 'ADticketbt_fail');\r\n        ADManager.TAPoint(TaT.BtnShow, 'Share_fail');\r\n        lwg.Click.on('largen', null, this.BtnAgain, this, null, null, this.btnAgainUp, null);\r\n        lwg.Click.on('largen', null, this.BtnLast, this, null, null, this.btnLastUp, null);\r\n        lwg.Click.on('largen', null, this.BtnShare, this, null, null, this.btnShareUp, null);\r\n        lwg.Click.on('largen', null, this.self['BtnBack'], this, null, null, this.btnBackUp, null);\r\n    }\r\n    btnAgainUp(event) {\r\n        ADManager.TAPoint(TaT.BtnClick, 'returnword_fail');\r\n        event.currentTarget.scale(1, 1);\r\n        if (lwg.Global._execution < 2) {\r\n            lwg.Global.intoBtn = 'BtnAgain';\r\n            lwg.Admin._openScene('UIExecutionHint', null, null, null);\r\n        }\r\n        else {\r\n            lwg.Global._execution -= 2;\r\n            let num = lwg.Global.ExecutionNumNode.getChildByName('Num');\r\n            num.value = lwg.Global._execution.toString();\r\n            lwg.Global._createHint_01(lwg.Enum.HintType.consumeEx);\r\n            lwg.Global.createConsumeEx(null);\r\n            lwg.LocalStorage.addData();\r\n            lwg.Admin._refreshScene();\r\n        }\r\n        this.self.close();\r\n    }\r\n    btnLastUp(event) {\r\n        ADManager.TAPoint(TaT.BtnClick, 'ADnextbt_fail');\r\n        event.currentTarget.scale(1, 1);\r\n        if (lwg.Global._execution < 2) {\r\n            lwg.Admin._openScene('UIExecutionHint', null, null, null);\r\n            lwg.Global.intoBtn = 'BtnLast';\r\n            this.self.close();\r\n        }\r\n        else {\r\n            ADManager.ShowReward(() => {\r\n                this.btnLastUpFunc();\r\n            });\r\n        }\r\n    }\r\n    btnLastUpFunc() {\r\n        if (Number(this.LvNum.value) >= 3) {\r\n            lwg.Admin._openScene('UIPassHint', null, null, f => {\r\n                lwg.Admin._sceneControl['UIPassHint']['UIPassHint'].afterDefeated = true;\r\n            });\r\n        }\r\n        else {\r\n            lwg.Admin._nextCustomScene(2);\r\n        }\r\n        this.self.close();\r\n        lwg.LocalStorage.addData();\r\n    }\r\n    btnShareUp(event) {\r\n        ADManager.TAPoint(TaT.BtnClick, 'Share_fail');\r\n        event.currentTarget.scale(1, 1);\r\n        RecordManager._share(() => {\r\n            this.btnShareUpFunc();\r\n        });\r\n    }\r\n    btnShareUpFunc() {\r\n        lwg.Global._goldNum += 125;\r\n    }\r\n    btnBackUp(event) {\r\n        ADManager.TAPoint(TaT.BtnClick, 'ADticketbt_fail');\r\n        lwg.Admin._openScene('UIStart', null, null, null);\r\n        lwg.Admin._closeCustomScene();\r\n        lwg.Global._goldNum += 25;\r\n        lwg.LocalStorage.addData();\r\n        this.self.close();\r\n    }\r\n    btnExAdvUpFunc() {\r\n        lwg.Global._execution += 3;\r\n        let num = lwg.Global.ExecutionNumNode.getChildByName('Num');\r\n        num.value = (Number(num.value) + 3).toString();\r\n        lwg.LocalStorage.addData();\r\n    }\r\n    onDisable() {\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/Riddle/Riddle1/TJ3Demo_Promo/src/script/Lwg_Template/lwg.ts",
    "D:/Game/project/Riddle/Riddle1/TJ3Demo_Promo/src/TJ/Admanager.ts",
    "D:/Game/project/Riddle/Riddle1/TJ3Demo_Promo/src/TJ/RecordManager.ts"
  ]
}
