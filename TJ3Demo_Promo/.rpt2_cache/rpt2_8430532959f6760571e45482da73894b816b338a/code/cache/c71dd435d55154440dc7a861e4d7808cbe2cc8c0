{
  "code": "import * as tslib_1 from \"tslib\";\r\nimport { lwg } from \"../Lwg_Template/lwg\";\r\nimport UIMain_Follow from \"./UIMain_Follow\";\r\nvar UIMain_Room = (function (_super) {\r\n    tslib_1.__extends(UIMain_Room, _super);\r\n    function UIMain_Room() {\r\n        var _this = _super.call(this) || this;\r\n        _this._roomMove = false;\r\n        _this.diffX = null;\r\n        _this.diffY = null;\r\n        return _this;\r\n    }\r\n    UIMain_Room.prototype.onEnable = function () {\r\n        this.self = this.owner;\r\n        this.selfScene = this.self.scene;\r\n        this.self['UIMain_Room'] = this;\r\n        this.rig = this.self.getComponent(Laya.RigidBody);\r\n        this.rig.setVelocity({ x: 0, y: 0 });\r\n        this.btnOnClick();\r\n        this.collisionNodeFollow();\r\n    };\r\n    UIMain_Room.prototype.collisionNodeFollow = function () {\r\n        for (var index = 0; index < this.self.numChildren; index++) {\r\n            var child = this.self.getChildAt(index);\r\n            var rig = child.getComponent(Laya.RigidBody);\r\n            if (rig) {\r\n                var followScript = child.getComponent(UIMain_Follow);\r\n                if (!followScript) {\r\n                    child.addComponent(UIMain_Follow);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    UIMain_Room.prototype.onTriggerEnter = function (other, self) {\r\n    };\r\n    UIMain_Room.prototype.onTriggerStay = function () {\r\n    };\r\n    UIMain_Room.prototype.btnOnClick = function () {\r\n        lwg.Click.on('noEffect', null, this.self, this, this.houseDwon, null, null, null);\r\n    };\r\n    UIMain_Room.prototype.houseDwon = function () {\r\n        this._roomX = this.self.x;\r\n        this._roomY = this.self.y;\r\n        this._roomMove = true;\r\n        lwg.Global._roomPickup = this.self;\r\n    };\r\n    UIMain_Room.prototype.onStageMouseDown = function (e) {\r\n        if (!this._stageX && !this._stageY) {\r\n            this._stageX = e.stageX;\r\n            this._stageY = e.stageY;\r\n        }\r\n    };\r\n    UIMain_Room.prototype.onStageMouseMove = function (e) {\r\n        if (this._roomMove) {\r\n            this.diffX = e.stageX - this._stageX;\r\n            this.diffY = e.stageY - this._stageY;\r\n            this.self.x = this._roomX + this.diffX;\r\n            this.self.y = this._roomY + this.diffY;\r\n        }\r\n    };\r\n    UIMain_Room.prototype.onStageMouseUp = function () {\r\n        this.selfScene['UIMain'].currentRoom = null;\r\n        this._roomMove = false;\r\n        this._roomX = null;\r\n        this._roomY = null;\r\n        this._stageX = null;\r\n        this._stageY = null;\r\n        this.diffX = null;\r\n        this.diffY = null;\r\n    };\r\n    UIMain_Room.prototype.onUpdate = function () {\r\n    };\r\n    UIMain_Room.prototype.onDisable = function () {\r\n    };\r\n    return UIMain_Room;\r\n}(Laya.Script));\r\nexport default UIMain_Room;\r\n",
  "references": [
    "D:/Game/project/Riddle/Riddle1/TJ3Demo_Promo/src/script/Lwg_Template/lwg.ts",
    "D:/Game/project/Riddle/Riddle1/TJ3Demo_Promo/src/script/Game/UIMain_Follow.ts"
  ]
}
