{
  "code": "import * as tslib_1 from \"tslib\";\r\nimport { lwg } from \"../Lwg_Template/lwg\";\r\nvar UIMain_Aisle = (function (_super) {\r\n    tslib_1.__extends(UIMain_Aisle, _super);\r\n    function UIMain_Aisle() {\r\n        var _this = _super.call(this) || this;\r\n        _this.openSwitch = false;\r\n        _this.connectRoom = null;\r\n        _this.locks = false;\r\n        return _this;\r\n    }\r\n    UIMain_Aisle.prototype.lwgInit = function () {\r\n        this.interactionPicStyle('exit');\r\n        this.picColor();\r\n    };\r\n    UIMain_Aisle.prototype.picColor = function () {\r\n        var parent = this.self.parent;\r\n        var pSkin = parent.skin;\r\n        var wall = this.self.getChildByName('wall');\r\n        var color = this.self.getChildByName('color');\r\n        switch (pSkin) {\r\n            case lwg.Enum.RoomSkin.blue:\r\n                wall.skin = lwg.Enum.WallSkin.blue;\r\n                color.skin = lwg.Enum.AisleColorSkin.blue;\r\n                break;\r\n            case lwg.Enum.RoomSkin.bluish:\r\n                wall.skin = lwg.Enum.WallSkin.bluish;\r\n                color.skin = lwg.Enum.AisleColorSkin.bluish;\r\n                break;\r\n            case lwg.Enum.RoomSkin.grass:\r\n                wall.skin = lwg.Enum.WallSkin.grass;\r\n                color.skin = lwg.Enum.AisleColorSkin.grass;\r\n                break;\r\n            case lwg.Enum.RoomSkin.green:\r\n                wall.skin = lwg.Enum.WallSkin.green;\r\n                color.skin = lwg.Enum.AisleColorSkin.green;\r\n                break;\r\n            case lwg.Enum.RoomSkin.pink:\r\n                wall.skin = lwg.Enum.WallSkin.pink;\r\n                color.skin = lwg.Enum.AisleColorSkin.pink;\r\n                break;\r\n            case lwg.Enum.RoomSkin.purple:\r\n                wall.skin = lwg.Enum.WallSkin.purple;\r\n                color.skin = lwg.Enum.AisleColorSkin.purple;\r\n                break;\r\n            case lwg.Enum.RoomSkin.red:\r\n                wall.skin = lwg.Enum.WallSkin.red;\r\n                color.skin = lwg.Enum.AisleColorSkin.red;\r\n                break;\r\n            case lwg.Enum.RoomSkin.yellow:\r\n                wall.skin = lwg.Enum.WallSkin.yellow;\r\n                color.skin = lwg.Enum.AisleColorSkin.yellow;\r\n                break;\r\n            case lwg.Enum.RoomSkin.yellowish:\r\n                wall.skin = lwg.Enum.WallSkin.yellowish;\r\n                color.skin = lwg.Enum.AisleColorSkin.yellowish;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n    UIMain_Aisle.prototype.onTriggerEnter = function (other, self) {\r\n        var otherName = other.owner.name;\r\n        var selfName = this.self.name;\r\n        if (other.label === 'aisle' && self.label === 'aisle') {\r\n            if (this.oppositeAisle) {\r\n                this.oppositeAisle['UIMain_Aisle'].openSwitch = true;\r\n                this.openSwitch = true;\r\n            }\r\n        }\r\n        else if (other.label === 'interaction' && self.label === 'interaction') {\r\n            var n1 = otherName.substring(0, 1);\r\n            var n2 = selfName.substring(0, 1);\r\n            if ((n1 === 'l' && n2 === 'r') || (n1 === 'r' && n2 === 'l') || (n1 === 'u' && n2 === 'd') || (n1 === 'd' && n2 === 'u')) {\r\n                this.connectRoom = other.owner.parent;\r\n                this.oppositeAisle = other.owner;\r\n                this.interactionPicStyle('enter');\r\n                this.roomAdsorption();\r\n            }\r\n        }\r\n    };\r\n    UIMain_Aisle.prototype.interactionPicStyle = function (type) {\r\n        var interaction = this.self.getChildByName('interaction');\r\n        var url1 = 'Room/ui_interaction_01.png';\r\n        var url2 = 'Room/ui_interaction_02.png';\r\n        if (type === 'enter') {\r\n            interaction.skin = url2;\r\n        }\r\n        else if (type === 'exit') {\r\n            interaction.skin = url1;\r\n        }\r\n    };\r\n    UIMain_Aisle.prototype.roomAdsorption = function () {\r\n        var posX = this.oppositeAisle.x + this.connectRoom.x - this.connectRoom.width / 2;\r\n        var posY = this.oppositeAisle.y + this.connectRoom.y - this.connectRoom.height / 2;\r\n        var parent = this.self.parent;\r\n        var selfX = this.self.x + parent.x - parent.width / 2;\r\n        ;\r\n        var selfY = this.self.y + parent.y - parent.height / 2;\r\n        var diffX = posX - selfX;\r\n        var diffY = posY - selfY;\r\n        if ((Math.abs(diffX) > 200 || Math.abs(diffY) > 200)) {\r\n            return;\r\n        }\r\n        var _roomMove = parent['UIMain_Room']._roomMove;\r\n        if (!_roomMove && lwg.Global._roomPickup === parent) {\r\n            Laya.Tween.clearAll(this);\r\n            lwg.Animation.move_Simple(parent, parent.x, parent.y, parent.x + diffX, parent.y + diffY, 10, 0, function (f) { });\r\n            parent['UIMain_Room']._roomMove = false;\r\n            lwg.Global._roomPickup = null;\r\n            this.oppositeAisle['UIMain_Aisle'].openSwitch = true;\r\n            this.openSwitch = true;\r\n            this.gzAndWzConnect();\r\n            lwg.Effects.createCommonExplosion(Laya.stage, 15, posX, posY);\r\n        }\r\n        else if (parent['UIMain_Room']._roomMove) {\r\n            if (Math.abs(diffX) > 10 || Math.abs(diffY) > 10) {\r\n                this.openSwitch = false;\r\n                this.oppositeAisle['UIMain_Aisle'].openSwitch = false;\r\n                var wangzi = this.selfScene['UIMain'].Wangzi;\r\n                wangzi['UIMain_Wangzi'].gzConnect = false;\r\n            }\r\n        }\r\n    };\r\n    UIMain_Aisle.prototype.styleChanges = function () {\r\n        var interaction = this.self.getChildByName('interaction');\r\n        var color = this.self.getChildByName('color');\r\n        var wall = this.self.getChildByName('wall');\r\n        if (this.openSwitch) {\r\n            interaction.alpha = 0;\r\n            color.alpha = 0;\r\n            wall.alpha = 1;\r\n        }\r\n        else {\r\n            interaction.alpha = 1;\r\n            color.alpha = 1;\r\n            wall.alpha = 0;\r\n        }\r\n    };\r\n    UIMain_Aisle.prototype.gzAndWzConnect = function () {\r\n        var gongzhu = this.selfScene['UIMain'].Gongzhu;\r\n        var wangzi = this.selfScene['UIMain'].Wangzi;\r\n        var gongzhuRoom = gongzhu['UIMain_Gongzhu'].belongRoom;\r\n        var wangziRoom = wangzi['UIMain_Wangzi'].belongRoom;\r\n        var parent = this.self.parent;\r\n        if ((gongzhuRoom === parent && wangziRoom === this.connectRoom) || (wangziRoom === parent && gongzhuRoom === this.connectRoom)) {\r\n            wangzi['UIMain_Wangzi'].gzConnect = true;\r\n        }\r\n    };\r\n    UIMain_Aisle.prototype.onTriggerExit = function (other, self) {\r\n        var otherName = other.owner.name;\r\n        var selfName = this.self.name;\r\n        if (other.label === 'aisle' && self.label === 'aisle') {\r\n        }\r\n        else if (other.label === 'interaction' && self.label === 'interaction') {\r\n            var n1 = otherName.substring(0, 1);\r\n            var n2 = selfName.substring(0, 1);\r\n            if ((n1 === 'l' && n2 === 'r') || (n1 === 'r' && n2 === 'l') || (n1 === 'u' && n2 === 'd') || (n1 === 'd' && n2 === 'u')) {\r\n                this.interactionPicStyle('exit');\r\n                this.openSwitch = false;\r\n                this.connectRoom = null;\r\n                this.oppositeAisle = null;\r\n            }\r\n        }\r\n    };\r\n    UIMain_Aisle.prototype.onUpdate = function () {\r\n        if (this.connectRoom && this.oppositeAisle) {\r\n            this.roomAdsorption();\r\n        }\r\n        this.styleChanges();\r\n    };\r\n    UIMain_Aisle.prototype.onDisable = function () {\r\n    };\r\n    return UIMain_Aisle;\r\n}(lwg.Admin.Object));\r\nexport default UIMain_Aisle;\r\n",
  "references": [
    "D:/Game/project/Riddle/Riddle1/TJ3Demo_Promo/src/script/Lwg_Template/lwg.ts"
  ]
}
